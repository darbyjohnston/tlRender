include(ExternalProject)

set(tlRender_ARGS
    ${TLR_EXTERNAL_ARGS}
    -DTLR_ENABLE_MMAP=${TLR_ENABLE_MMAP}
	-DTLR_ENABLE_COVERAGE=${TLR_ENABLE_COVERAGE}
    -DTLR_ENABLE_PYTHON=${TLR_ENABLE_PYTHON}
    -DTLR_BUILD_GL=${TLR_BUILD_GL}
    -DTLR_BUILD_QT=${TLR_BUILD_QT}
    -DTLR_BUILD_PROGRAMS=${TLR_BUILD_PROGRAMS}
    -DTLR_BUILD_EXAMPLES=${TLR_BUILD_EXAMPLES}
    -DTLR_BUILD_TESTS=${TLR_BUILD_TESTS})

ExternalProject_Add(
    tlRender
    PREFIX ${CMAKE_CURRENT_BINARY_DIR}/tlRender
    DEPENDS ${TLR_EXTERNAL_DEPS}
    SOURCE_DIR ${CMAKE_SOURCE_DIR}/../..
    LIST_SEPARATOR |
    CMAKE_ARGS ${tlRender_ARGS})
